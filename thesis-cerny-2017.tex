%% History:
% Pavel Tvrdik (26.12.2004)
%  + initial version for PhD Report
%
% Daniel Sykora (27.01.2005)
%
% Michal Valenta (3.12.2008)
% rada zmen ve formatovani (diky M. Duškovi, J. Holubovi a J. Žďárkovi)
% sjednoceni zdrojoveho kodu pro anglickou, ceskou, bakalarskou a diplomovou praci

% One-page layout: (proof-)reading on display
\documentclass[11pt,oneside,a4paper]{book}
% Two-page layout: final printing
%\documentclass[11pt,twoside,a4paper]{book}   
%=-=-=-=-=-=-=-=-=-=-=-=--=%
% The user of this template may find useful to have an alternative to these 
% officially suggested packages:
\usepackage[english]{babel}
\usepackage[T1]{fontenc} % pouzije EC fonty 
% pripadne pisete-li cesky, pak lze zkusit take:
% \usepackage[OT1]{fontenc} 
\usepackage[utf8]{inputenc}
%=-=-=-=-=-=-=-=-=-=-=-=--=%
% In case of problems with PDF fonts, one may try to uncomment this line:
%\usepackage{lmodern}
%=-=-=-=-=-=-=-=-=-=-=-=--=%
%=-=-=-=-=-=-=-=-=-=-=-=--=%
% Depending on your particular TeX distribution and version of conversion tools 
% (dvips/dvipdf/ps2pdf), some (advanced | desperate) users may prefer to use 
% different settings.
% Please uncomment the following style and use your CSLaTeX (cslatex/pdfcslatex) 
% to process your work. Note however, this file is in UTF-8 and a conversion to 
% your native encoding may be required. Some settings below depend on babel 
% macros and should also be modified. See \selectlanguage \iflanguage.
%\usepackage{czech}  %%%%%\usepackage[T1]{czech} %%%%[IL2] [T1] [OT1]
%=-=-=-=-=-=-=-=-=-=-=-=--=%

% MY ADDED PACKAGES
\usepackage{booktabs}
\usepackage[table,xcdraw]{xcolor}
\usepackage{url}
\usepackage{gensymb}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Styles required in your work follow %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{graphicx}
\usepackage{caption}
\usepackage{subcaption}

\usepackage{scrextend}
\addtokomafont{labelinglabel}{\sffamily}
%\usepackage{indentfirst} %1. odstavec jako v cestine.

\usepackage{k336_thesis_macros} % specialni makra pro formatovani DP a BP
% muzete si vytvorit i sva vlastni v souboru k336_thesis_macros.sty
% najdete  radu jednoduchych definic, ktere zde ani nejsou pouzity
% napriklad: 
% \newcommand{\bfig}{\begin{figure}\begin{center}}
% \newcommand{\efig}{\end{center}\end{figure}}
% umoznuje pouzit prikaz \bfig namisto \begin{figure}\begin{center} atd.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Zvolte jednu z moznosti 
% Choose one of the following options
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \newcommand\TypeOfWork{Diplomová práce} \typeout{Diplomova prace}
\newcommand\TypeOfWork{Master's Thesis}   \typeout{Master's Thesis} 
% \newcommand\TypeOfWork{Bakalářská práce}  \typeout{Bakalarska prace}
% \newcommand\TypeOfWork{Bachelor's Project}  \typeout{Bachelor's Project}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Zvolte jednu z moznosti 
% Choose one of the following options
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% nabidky jsou z: http://www.fel.cvut.cz/cz/education/bk/prehled.html

%\newcommand\StudProgram{Elektrotechnika a informatika, dobíhající, Bakalářský}
%\newcommand\StudProgram{Elektrotechnika a informatika, dobíhající, Magisterský}
% \newcommand\StudProgram{Elektrotechnika a informatika, strukturovaný, Bakalářský}
\newcommand\StudProgram{Open Informatics, Master degree}
% \newcommand\StudProgram{Softwarové technologie a management, Bakalářský}
% English study:
% \newcommand\StudProgram{Electrical Engineering and Information Technology}  % bachelor programe
% \newcommand\StudProgram{Electrical Engineering and Information Technology}  %master program


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Zvolte jednu z moznosti 
% Choose one of the following options
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% nabidky jsou z: http://www.fel.cvut.cz/cz/education/bk/prehled.html

%\newcommand\StudBranch{Výpočetní technika}   % pro program EaI bak. (dobihajici i strukt.)
\newcommand\StudBranch{Software engineering}   % pro prgoram EaI mag. (dobihajici i strukt.)
%\newcommand\StudBranch{Softwarové inženýrství}            %pro STM
%\newcommand\StudBranch{Web a multimedia}                  % pro STM
%\newcommand\StudBranch{Computer Engineering}              % bachelor programe
%\newcommand\StudBranch{Computer Science and Engineering}  % master programe


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Vyplnte nazev prace, autora a vedouciho
% Set up Work Title, Author and Supervisor
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand\WorkTitle{Localization of visually impaired pedestrians by means of a dialog system}
\newcommand\FirstandFamilyName{Bc. Pavel Cerny}
\newcommand\Supervisor{Ing. Jan Balata}


% Pouzijete-li pdflatex, tak je prijemne, kdyz bude mit vase prace
% funkcni odkazy i v pdf formatu
\usepackage[
pdftitle={\WorkTitle},
pdfauthor={\FirstandFamilyName},
bookmarks=true,
colorlinks=true,
breaklinks=true,
urlcolor=red,
citecolor=blue,
linkcolor=blue,
unicode=true,
]
{hyperref}




\begin{document}
	
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	% Zvolte jednu z moznosti 
	% Choose one of the following options
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	%\selectlanguage{czech}
	\selectlanguage{english} 
	
	% prikaz \typeout vypise vyse uvedena nastaveni v prikazovem okne
	% pro pohodlne ladeni prace
	
	
	\iflanguage{czech}{
		\typeout{************************************************}
		\typeout{Zvoleny jazyk: cestina}
		\typeout{Typ prace: \TypeOfWork}
		\typeout{Studijni program: \StudProgram}
		\typeout{Obor: \StudBranch}
		\typeout{Jmeno: \FirstandFamilyName}
		\typeout{Nazev prace: \WorkTitle}
		\typeout{Vedouci prace: \Supervisor}
		\typeout{***************************************************}
		\newcommand\Department{Katedra počítačů}
		\newcommand\Faculty{Fakulta elektrotechnická}
		\newcommand\University{České vysoké učení technické v Praze}
		\newcommand\labelSupervisor{Vedoucí práce}
		\newcommand\labelStudProgram{Studijní program}
		\newcommand\labelStudBranch{Obor}
	}{
		\typeout{************************************************}
		\typeout{Language: english}
		\typeout{Type of Work: \TypeOfWork}
		\typeout{Study Program: \StudProgram}
		\typeout{Study Branch: \StudBranch}
		\typeout{Author: \FirstandFamilyName}
		\typeout{Title: \WorkTitle}
		\typeout{Supervisor: \Supervisor}
		\typeout{***************************************************}
		\newcommand\Department{Department of Computer Science and Engineering}
		\newcommand\Faculty{Faculty of Electrical Engineering}
		\newcommand\University{Czech Technical University in Prague}
		\newcommand\labelSupervisor{Supervisor}
		\newcommand\labelStudProgram{Study Program} 
		\newcommand\labelStudBranch{Field of Study}
	}
	
	
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	% MY SCRIPTS
	\newcommand\poi{Naviterier - POI}
	\newcommand\gps{Naviterier - GPS \& compass}
	\newcommand\reversegeo{Naviterier - Reverse Geocoding}
	
	\newcommand{\qo}[1]{\emph{#1}}
	
	
	
	%	%%%%%%%%%%%%%%%%%%%%%%%%%%    Poznamky ke kompletaci prace
	%	% Nasledujici pasaz uzavrenou v {} ve sve praci samozrejme 
	%	% zakomentujte nebo odstrante. 
	%	% Ve vysledne svazane praci bude nahrazena skutecnym 
	%	% oficialnim zadanim vasi prace.
	%	{
	%		\pagenumbering{roman} \cleardoublepage \thispagestyle{empty}
	%		\chapter*{Na tomto místě bude oficiální zadání vaší práce}
	%		\begin{itemize}
	%			\item Toto zadání je podepsané děkanem a vedoucím katedry,
	%			\item musíte si ho vyzvednout na studiijním oddělení Katedry počítačů na Karlově náměstí,
	%			\item v jedné odevzdané práci bude originál tohoto zadání (originál zůstává po obhajobě na katedře),
	%			\item ve druhé bude na stejném místě neověřená kopie tohoto dokumentu (tato se vám vrátí po obhajobě).
	%		\end{itemize}
	%		\newpage
	%	}
	%	
	%	%%%%%%%%%%%%%%%%%%%%%%%%%%    Titulni stranka / Title page 
	%	
	%	\coverpagestarts
	%	
	%	%%%%%%%%%%%%%%%%%%%%%%%%%%%    Podekovani / Acknowledgements 
	%	
	%	%\acknowledgements
	%	%\noindent
	%	%Zde můžete napsat své poděkování, pokud chcete a máte komu děkovat.
	%	
	%	
	%	%%%%%%%%%%%%%%%%%%%%%%%%%%%   Prohlaseni / Declaration 
	%	
	%	\declaration{In~Prague on May 26, 2017}
	%	%\declaration{In Kořenovice nad Bečvárkou on May 15, 2008}
	%	
	%	
	%	%%%%%%%%%%%%%%%%%%%%%%%%%%%%    Abstract 
	%	
	%	\abstractpage
	%	
	%	Translation of Czech abstract into English.
	%	
	%	% Prace v cestine musi krome abstraktu v anglictine obsahovat i
	%	% abstrakt v cestine.
	%	\vglue60mm
	%	
	%	\noindent{\Huge \textbf{Abstrakt}}
	%	\vskip 2.75\baselineskip
	%	
	%	\noindent
	%	Abstrakt práce by měl velmi stručně vystihovat její podstatu. Tedy čím se práce zabývá a co je jejím výsledkem/přínosem.
	%	
	%	\noindent
	%	Očekávají se cca 1 -- 2 odstavce, maximálně půl stránky.
	%	
	%	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  Obsah / Table of Contents 
	%	
	%	\tableofcontents
	%	
	%	
	%	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  Seznam obrazku / List of Figures 
	%	
	%	\listoffigures
	%	
	%	
	%	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  Seznam tabulek / List of Tables
	%	
	%	\listoftables
	
	
	%**************************************************************
	
	\mainbodystarts
	% horizontalní mezera mezi dvema odstavci
	%\parskip=5pt
	%11.12.2008 parskip + tolerance
	\normalfont
	\parskip=0.2\baselineskip plus 0.2\baselineskip minus 0.1\baselineskip
	
	% Odsazeni prvniho radku odstavce resi class book (neaplikuje se na prvni 
	% odstavce kapitol, sekci, podsekci atd.) Viz usepackage{indentfirst}.
	% Chcete-li selektivne zamezit odsazeni 1. radku nektereho odstavce,
	% pouzijte prikaz \noindent.
	
	%**************************************************************
	
	% Pro snadnejsi praci s vetsimi texty je rozumne tyto rozdelit
	% do samostatnych souboru nejlepe dle kapitol a tyto potom vkladat
	% pomoci prikazu \include{jmeno_souboru.tex} nebo \include{jmeno_souboru}.
	% Napr.:
	% \include{1_uvod}
	% \include{2_teorie}
	% atd...
	%*****************************************************************************
	\include{intro+analysis}
	
	
	\chapter{Proposed Methods}
	This section describes all methods I found out. The description talks allways about the latest iteration of the prototype.
		\section{Overview}
			The iterative design process lead me to propose and validate 7 different methods. These methods are split into categories without GPS and without. The first group, without GPS promises working even on old phones as Nokias with Symbian S60, which are still used by some blind. The second group with GPS uses the advatages of modern phones as iPhones and even recent cheap Androids, with the basic smart sensors.
			\paragraph{Without GPS}
				\begin{description}
					\item [POI]
					The systems asks questions about the current address or current start stop name to decide the users exact position.
					\item [Go to corner of two streets]
					The system asks user to go to a crossing of two streets and asks pedestrians walking arround to get the name of the streets. 
				\end{description}
			\paragraph{With GPS}
				\begin{description}
									
					\item [POI with hints]
					Similiar as the POI without GPS. But when asking about the address or tramstop, it tells the user the streets and stop's names which are nearby based on GPS signal.
					\item [Go arround corner with compass]
					Uses GPS position of target and compass in the phone, to tell user what direction he should start. Then leads the user arround corner while collecting the GPS positions. And then finaly estimate the user's sidewalk by matching of collected GPS coordinates sidewalks in the map.
					\item [Go arround corner with compass]
					Same as the previous, but on the beginning to decide for himself, what direction he wants to start.
					\item [Reverse geocoding]
					Uses GPS position to get coordinates, gets current address from them and then launch navigation between the current address and the target address.
				\end{description}
		\section{Without GPS}
		\section{GPS}
			\subsection{Go arround corner with compass}
				\begin{figure}[!htb]
					\minipage{0.32\textwidth}
					\includegraphics[width=\linewidth]{../../../../Dropbox/dp/proposed-methods/reverse-gc/01}
					\caption{A really Awesome Image}\label{fig:awesome_image1}
					\endminipage\hfill
					\minipage{0.32\textwidth}
					\includegraphics[width=\linewidth]{../../../../Dropbox/dp/proposed-methods/reverse-gc/02}
					\caption{A really Awesome Image}\label{fig:awesome_image2}
					\endminipage\hfill
					\minipage{0.32\textwidth}%
					\includegraphics[width=\linewidth]{../../../../Dropbox/dp/proposed-methods/reverse-gc/03}
					\caption{A really Awesome Image}\label{fig:awesome_image3}
					\endminipage
				\end{figure}
			
				This prototype uses the compass to send the user the correct way, then it collects GPS coordinates on the way
				This is a high fidelity prototype.
			\subsection{Reverse geocoding}
		
			\begin{figure}[!htb]
				\minipage{0.32\textwidth}
				\includegraphics[width=\linewidth]{../../../../Dropbox/dp/proposed-methods/reverse-gc/01}
				\caption{A really Awesome Image}\label{fig:awesome_image1}
				\endminipage\hfill
				\minipage{0.32\textwidth}
				\includegraphics[width=\linewidth]{../../../../Dropbox/dp/proposed-methods/reverse-gc/02}
				\caption{A really Awesome Image}\label{fig:awesome_image2}
				\endminipage\hfill
				\minipage{0.32\textwidth}%
				\includegraphics[width=\linewidth]{../../../../Dropbox/dp/proposed-methods/reverse-gc/03}
				\caption{A really Awesome Image}\label{fig:awesome_image3}
				\endminipage
			\end{figure}
	
			Reverse geocding method uses GPS sensor only one time to get actual GPS coordinates. 
			The system asks the user for the target adress. Meanwhile it launches the GPS sensor.
			The user is typing the desired target address on default system keyboard or in Chrome browser, he can use the advantage of button \uv{Dictate} and speak it aloud.
			When the user is done with input, the system shows current estimated accuracy of the system.
			Then user can click on \uv{Navigate to Vodičkova 13}. The value of this button changes according to the inputed target address.
			Once the user click navigate, the systems validate the target address and the user location are both in area covered by Naviterier and if so the system shows the user the navigation. Which then navigate the user to the target. See section \ref{sec:navifation} for more details.
			
			Note: The estimated accuracy is changed only when the sensor tells a value which is $\geq 5m$. This prevents the screen reader from infinite reeding loop, when it would be changing between i.e. $10m$ and $11m$. 
		\section{Navigation}
		\label{sec:navifation}
		This describe the navigation itself. It means this decribe the window which is opened when the system estimates the exact user address.
	\chapter{Development}
	\chapter{Software Implementation}
	\chapter{Testing}
		\section{GPS}
			\subsection{Reverse Geocoding}
			Google gecoding doesn't allways return address
		
		\section{Testing sessions}
			\subsection{1st testing}
			\subsection{2nd testing}
			\subsection{3rd testing}
			\subsection{4th testing}
			\subsection{5th testing}
		\section{Research sessions}
			\subsection{what they recognize on streets}
			\subsection{names of streets}
			\subsection{how they get lost}
			\subsection{how they write}
	
	\chapter{Results}
		\section{Without GPS}
		\section{With GPS}
			\subsection{Go arround corner with compass}
			I see future in this approach, guide the person using the compass, and when sure, where he is, switch to precise Naviterier navigation.
			The ease of use is big.
			The UI should be improved by saying which direction he should start just one time. It current version the command is allways changing. So when the user turns himself in desired position, he turns the phone as well, and the phone then can tell different direction than before. Which leads to confused spinning on a place. One possible fix can be \uv{your target is on 3 o'clock, start walking along the buildings, that direction}
			The algorithm, should be improved in two ways. By asking the user on which hand he has the houses. 
			\subsection{Reverse geocoding}
			I don't recomend this method for future usage. This method estimate the correct sidewalk with 50\% success. It can tell the correct sidewalk, but it can falsely estimate the user position as the sidewalk on the opposite side of the street.  And thats huge difference. 
			Because after deciding the correct sidewalk/address, the phone downloads the way itinereary and turn off gps. It's a huge difference if the itinerary says, \uv{stand with your backs to wall and go left} or if it says \uv{...and go right} while giving the orders for the sidewalk accross the street. Therefore the whole navigation is then random and can't be used at all.
			
			The used reverse GC API was not working 100\%. The API has to be replaced. See section \ref{subsec:reverse-gc-api} for more details.
						
			This method can't be used as a production method for start of the navigation system.
			This method can be used only as quick comparsion for experiments (with fixed reverse GC API).
			
		\section{Reverse geolocation API}
		\label{subsec:reverse-gc-api}
		Don't use the Google API or HERE API. Because Naviterier requires Street name and house number as na input i.e. \uv{Vodičkova 13}. But both of them sometimes, instead of the address  returns just the street name i.e. \uv{Vodičkova}, or just the area name ie \uv{Nové Město, Praha}. Therefore you need an API which allways returns Street and housenumber. CEDA API seems promising. Still better method would be an API which for GPS coordinates returns the sidewalk Id and don't rely, that the nearest address entery point is on the same sidewalk.	
		\section{Naviterier}
			The navigation is very precise and appreciatet by the blinds. However they don't know it's just pre-downloaded set of orders. That it does not update base on the real location.
			
			I definitely recomend either make sure the user knows the navigation started to work offline or add the updating based on realtime GPS signal. In the tested systems when the system used GPS to locate the initial position, and then turned off the signal without noticing the user, it made the users make huge mistakes, guiding them the wrong path, while still tehy were sure, they are walking the right way and the system as well knows tehir exact location.
		
	
	
	
	
	
	
	
	
	
	%*****************************************************************************
	% Seznam literatury je v samostatnem souboru reference.bib. Ten
	% upravte dle vlastnich potreb, potom zpracujte (a do textu
	% zapracujte) pomoci prikazu bibtex a nasledne pdflatex (nebo
	% latex). Druhy z nich alespon 2x, aby se poresily odkazy.
	
	\bibliographystyle{abbrv}	
	%bibliographystyle{plain}
	%\bibliographystyle{psc}
	{
		%JZ: 11.12.2008 Kdo chce mit v techto ukazkovych odkazech take odkaz na CSTeX:
		\def\CS{$\cal C\kern-0.1667em\lower.5ex\hbox{$\cal S$}\kern-0.075em $}
		\bibliography{reference}
	}
	
	% M. Dušek radi:
	%\bibliographystyle{alpha}
	% kdy citace ma tvar [AutorRok] (napriklad [Cook97]). Sice to asi neni  podle ceske normy (BTW BibTeX stejne neodpovida ceske norme), ale je to nejprehlednejsi.
	% 3.5.2009 JZ polemizuje: BibTeX neobvinujte, napiste a poskytnete nam styl (.bst) splnujici citacni normu CSN/ISO.
	
	%\include{appendix}
	
\end{document}
